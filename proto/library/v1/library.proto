syntax = "proto3";

package proto.library.v1;

// Message representing a book
message Book {
  string id = 1;
  string title = 2;
  string author = 3;
}

// Request message to borrow a book
message BorrowBookRequest {
  string book_id = 1; // Updated to include book ID
  string user_id = 2; // Assuming a user ID is also needed
}

// Response message for borrowing a book
message BorrowBookResponse {
  bool success = 1;
  string message = 2;
  Book book = 3; // Include book information
}

// Request message to return a book
message ReturnBookRequest {
  string book_id = 1;
}

// Response message for returning a book
message ReturnBookResponse {
  bool success = 1;
  string message = 2;
}

// Request message to list all books
message ListBooksRequest {}

// Response message for listing all books
message ListBooksResponse {
  repeated Book books = 1;
}

// Library service definition
service LibraryService {
  // Borrow a book
  rpc BorrowBook(BorrowBookRequest) returns (BorrowBookResponse);

  // Return a book
  rpc ReturnBook(ReturnBookRequest) returns (ReturnBookResponse);

  // List all books
  rpc ListBooks(ListBooksRequest) returns (ListBooksResponse);
}
